<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b1020" />
  <meta name="description" content="Mohamed Kamel Elshaarawy — Civil Engineer & Assistant Lecturer. Research portfolio with interactive visualizations, publications explorer, teaching, and contact." />
  <meta name="keywords" content="Mohamed Elshaarawy, Civil Engineering, Hydraulics, Groundwater, Machine Learning, Explainable AI, Optimization, Assistant Lecturer" />
  <meta property="og:title" content="Mohamed Kamel Elshaarawy | Academic Portfolio" />
  <meta property="og:description" content="Research portfolio with interactive visualizations, publications explorer, teaching, and contact." />
  <meta property="og:type" content="website" />

  <title>Mohamed Kamel Elshaarawy | Academic Portfolio</title>

  <!-- Scientific fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=STIX+Two+Text:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#070A12;
      --bg1:#0B1020;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.09);
      --text:#E9ECF5;
      --muted:#B7BED9;
      --muted2:#8F98B7;

      --a:#67E8F9;    /* cyan */
      --b:#A78BFA;    /* violet */
      --c:#34D399;    /* emerald */
      --d:#FBBF24;    /* amber */
      --e:#FB7185;    /* rose */
      --line: rgba(255,255,255,.14);

      --shadow: 0 18px 50px rgba(0,0,0,.42);
      --radius: 18px;
      --radius2: 12px;

      --mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --serif: "STIX Two Text", Georgia, "Times New Roman", Times, serif;

      --max: 1140px;
      --pad: 18px;
    }

    [data-theme="light"]{
      --bg0:#f6f7fb;
      --bg1:#ffffff;
      --panel: rgba(10,16,32,.05);
      --panel2: rgba(10,16,32,.07);
      --text:#0b1020;
      --muted:#334155;
      --muted2:#475569;
      --line: rgba(10,16,32,.12);
      --shadow: 0 18px 50px rgba(2,6,23,.10);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:
        radial-gradient(1200px 500px at 15% 10%, rgba(103,232,249,.16), transparent 60%),
        radial-gradient(900px 600px at 85% 30%, rgba(167,139,250,.18), transparent 60%),
        radial-gradient(800px 500px at 60% 90%, rgba(52,211,153,.12), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }
    a{color:inherit}
    .wrap{max-width:var(--max); margin:0 auto; padding: 26px var(--pad) 40px;}
    .skip{
      position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden;
    }
    .skip:focus{left:14px; top:14px; width:auto; height:auto; padding:10px 12px; background:var(--panel2); border-radius:12px; outline:2px solid rgba(103,232,249,.5)}

    /* Top progress */
    .progress{
      position:fixed; top:0; left:0; height:3px; width:0%;
      background: linear-gradient(90deg, var(--a), var(--b), var(--c));
      z-index:80;
      box-shadow: 0 8px 18px rgba(0,0,0,.25);
    }

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.76);
      border: 1px solid rgba(255,255,255,.18);
      color: #fff;
      padding: 10px 12px;
      border-radius: 14px;
      font-family: var(--mono);
      font-size: 12px;
      z-index: 120;
      display:none;
    }
    [data-theme="light"] .toast{background: rgba(15,23,42,.92)}

    /* Tooltip */
    .tooltip{
      position: fixed;
      z-index: 1000;
      pointer-events:none;
      background: rgba(0,0,0,.78);
      color: white;
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.16);
      font-size: 12px;
      font-family: var(--mono);
      max-width: 360px;
      display:none;
    }
    [data-theme="light"] .tooltip{background: rgba(15,23,42,.92)}

    /* Top Nav */
    .nav{
      position:sticky; top:0; z-index:30;
      backdrop-filter: blur(12px);
      background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.08));
      border-bottom: 1px solid var(--line);
    }
    [data-theme="light"] .nav{
      background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.55));
    }
    .nav-inner{
      max-width:var(--max);
      margin:0 auto;
      padding: 10px var(--pad);
      display:flex; align-items:center; justify-content:space-between; gap:14px;
    }
    .brand{
      display:flex; align-items:center; gap:10px; text-decoration:none;
      min-width: 280px;
    }
    .mark{
      width:34px; height:34px; border-radius:10px;
      background:
        radial-gradient(22px 22px at 30% 30%, rgba(103,232,249,.85), transparent 60%),
        radial-gradient(22px 22px at 70% 70%, rgba(167,139,250,.85), transparent 60%),
        linear-gradient(135deg, rgba(255,255,255,.12), rgba(255,255,255,.02));
      border: 1px solid var(--line);
      box-shadow: 0 10px 25px rgba(0,0,0,.25);
      position:relative;
      flex: 0 0 auto;
    }
    .mark:after{
      content:"";
      position:absolute; inset:7px;
      border-radius:8px;
      border:1px dashed rgba(255,255,255,.28);
      opacity:.75;
    }
    [data-theme="light"] .mark:after{border-color: rgba(10,16,32,.22)}
    .brand strong{font-weight:900; letter-spacing:.2px; white-space:nowrap}
    .brand span{display:block; font-size:12px; color:var(--muted2); margin-top:1px}

    .nav-links{
      display:flex; flex-wrap:wrap; gap:10px 16px;
      align-items:center;
      justify-content:flex-end;
    }
    .nav-links a{
      text-decoration:none;
      font-size:13px;
      color:var(--muted);
      padding:8px 10px;
      border-radius:12px;
      border:1px solid transparent;
      font-weight:700;
    }
    .nav-links a:hover{
      color:var(--text);
      background: var(--panel);
      border-color: var(--line);
    }
    @media (max-width: 980px){
      .brand{min-width:auto}
      .nav-links{display:none}
    }

    .nav-actions{
      display:flex; align-items:center; gap:10px;
    }

    /* Buttons */
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: linear-gradient(135deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      box-shadow: 0 12px 28px rgba(0,0,0,.18);
      color: var(--text);
      text-decoration:none;
      font-weight:800;
      font-size:13px;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
    }
    .btn:hover{transform: translateY(-1px); border-color: rgba(103,232,249,.35)}
    .btn:active{transform: translateY(0px)}
    .btn.secondary{background: transparent; box-shadow:none}
    .btn.icon{padding: 10px 10px; width: 42px}
    .btn.primary{
      border-color: rgba(103,232,249,.35);
      background: linear-gradient(135deg, rgba(103,232,249,.16), rgba(167,139,250,.12));
    }
    .btn.primary:hover{border-color: rgba(103,232,249,.55)}
    .btn small{color:var(--muted2); font-weight:800}

    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding: 7px 10px;
      font-size:12px;
      border: 1px solid var(--line);
      border-radius:999px;
      background: rgba(255,255,255,.06);
      color: var(--muted);
      font-weight:800;
      font-family: var(--mono);
    }
    [data-theme="light"] .pill{background: rgba(10,16,32,.04)}
    .mono{font-family:var(--mono)}
    .muted{color:var(--muted)}
    .muted2{color:var(--muted2)}

    /* Cards / Sections */
    .card{
      border: 1px solid var(--line);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.04));
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .card:before{
      content:"";
      position:absolute; inset:-1px;
      background:
        radial-gradient(900px 260px at 10% 0%, rgba(103,232,249,.12), transparent 60%),
        radial-gradient(900px 260px at 90% 20%, rgba(167,139,250,.14), transparent 60%);
      pointer-events:none;
      opacity:.9;
    }
    [data-theme="light"] .card{
      background: linear-gradient(180deg, rgba(10,16,32,.04), rgba(10,16,32,.02);
    }
    .card > *{position:relative}

    section{margin-top: 18px}
    .section{padding: 18px}
    .section h2{
      margin: 0 0 12px;
      font-size: 18px;
      letter-spacing: .2px;
      display:flex; align-items:center; gap:10px;
      font-weight: 950;
      font-family: var(--serif);
    }
    .section h2 .tag{
      font-size: 11px;
      color: var(--muted2);
      border:1px solid var(--line);
      padding: 5px 8px;
      border-radius:999px;
      font-weight:950;
      letter-spacing:.35px;
      text-transform: uppercase;
      font-family: var(--mono);
    }

    /* Hero */
    .hero{
      display:grid;
      grid-template-columns: 1.35fr .65fr;
      gap: 18px;
      margin-top: 18px;
      align-items: stretch;
    }
    @media (max-width: 980px){ .hero{grid-template-columns: 1fr} }

    .hero-main{padding: 22px 22px 18px}
    .kicker{
      display:flex; flex-wrap:wrap; gap:10px; align-items:center;
      margin-bottom: 12px;
    }
    .kicker .dot{
      width:10px; height:10px; border-radius:99px;
      background: radial-gradient(circle at 30% 30%, var(--a), var(--b));
      box-shadow: 0 0 0 6px rgba(103,232,249,.10);
      border: 1px solid rgba(255,255,255,.25);
    }
    [data-theme="light"] .kicker .dot{border-color: rgba(10,16,32,.16)}

    /* NAME MUST stay one line */
    h1{
      margin: 10px 0 8px;
      font-weight: 950;
      letter-spacing: -0.6px;
      font-size: clamp(26px, 3.6vw, 44px);
      line-height: 1.02;
      font-family: var(--serif);
      white-space: nowrap;        /* one line */
      overflow: hidden;           /* prevent wrapping */
      text-overflow: ellipsis;    /* safe on very small screens */
    }

    .subtitle{
      margin: 0 0 14px;
      color: var(--muted);
      font-weight: 800;
      font-size: 14px;
      letter-spacing: .25px;
    }

    .headrow{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }

    .avatar{
      width:104px;
      height:104px;
      object-fit:cover;
      border-radius:22px;
      border:1px solid var(--line);
      box-shadow: 0 14px 30px rgba(0,0,0,.22);
      background: rgba(255,255,255,.04);
      flex: 0 0 auto;
    }

    .bio{
      margin: 12px 0 16px;
      color: var(--text);
      font-family: var(--serif);
      font-size: 15.5px;
      line-height: 1.85;
      opacity:.98;
    }

    .hero-cta{
      display:flex; flex-wrap:wrap;
      gap:10px;
      margin-top: 10px;
    }
    .sep{height:1px; background:var(--line); margin: 12px 0}

    /* Chips */
    .chips{display:flex; flex-wrap:wrap; gap:10px; margin-top: 8px;}
    .chip{
      padding: 9px 10px;
      border-radius:999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.05);
      font-weight: 900;
      font-size: 12px;
      color: var(--muted);
      display:inline-flex; align-items:center; gap:8px;
      text-decoration:none;
      transition: transform .12s ease, border-color .12s ease;
    }
    [data-theme="light"] .chip{background: rgba(10,16,32,.03)}
    .chip i{
      width:10px; height:10px; border-radius:999px; display:inline-block;
      background: linear-gradient(135deg, var(--a), var(--b));
      box-shadow: 0 0 0 5px rgba(103,232,249,.08);
    }
    .chip:hover{border-color: rgba(52,211,153,.35); transform: translateY(-1px)}

    /* Side */
    .hero-side{padding: 16px; display:flex; flex-direction:column; gap: 12px;}
    .mini{
      border-radius: var(--radius2);
      border:1px solid var(--line);
      background: rgba(255,255,255,.05);
      padding: 12px;
    }
    [data-theme="light"] .mini{background: rgba(10,16,32,.03)}
    .mini h3{
      margin:0 0 8px;
      font-size: 12px;
      letter-spacing: .16px;
      text-transform: uppercase;
      color: var(--muted);
      font-weight: 950;
      font-family: var(--mono);
    }
    .stats{display:grid; grid-template-columns: 1fr 1fr; gap: 10px;}
    .stat{
      border-radius: 14px;
      border:1px solid var(--line);
      padding: 12px;
      background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      position:relative; overflow:hidden;
    }
    [data-theme="light"] .stat{background: linear-gradient(135deg, rgba(10,16,32,.04), rgba(10,16,32,.02))}
    .stat:before{
      content:"";
      position:absolute; inset:-40px;
      background: radial-gradient(220px 120px at 30% 20%, rgba(103,232,249,.14), transparent 55%),
                  radial-gradient(260px 140px at 80% 80%, rgba(167,139,250,.12), transparent 60%);
      opacity:.9;
    }
    .stat > *{position:relative}
    .stat strong{
      display:block;
      font-size: 22px;
      letter-spacing:-.3px;
      margin-bottom: 2px;
      font-weight: 950;
      font-family: var(--serif);
    }
    .stat span{
      font-size: 12px;
      color: var(--muted2);
      font-weight:900;
      font-family: var(--mono);
    }

    .list{margin: 0; padding: 0; list-style:none; display:grid; gap: 10px;}
    .li{display:flex; gap:10px; align-items:flex-start;}
    .li svg{flex:0 0 auto; margin-top: 2px; opacity:.95}
    .li div{flex:1}
    .li .k{font-weight:950; font-size:12px; letter-spacing:.2px; text-transform:uppercase; color:var(--muted); font-family: var(--mono)}
    .li .v{color:var(--text); font-size:13px; line-height:1.55; margin-top:2px; font-weight:700}

    /* Grid blocks */
    .cols{display:grid; grid-template-columns: 1fr 1fr; gap: 12px;}
    @media (max-width: 980px){ .cols{grid-template-columns: 1fr} }

    .titem{
      border:1px solid var(--line);
      border-radius: 16px;
      padding: 14px;
      background: rgba(255,255,255,.05);
    }
    [data-theme="light"] .titem{background: rgba(10,16,32,.03)}
    .titem .top{display:flex; flex-wrap:wrap; gap:10px; align-items:baseline; justify-content:space-between;}
    .titem .title{font-weight: 950; letter-spacing: -.2px; font-family: var(--serif);}
    .titem .meta{font-size: 12px; color: var(--muted2); font-weight:900; font-family: var(--mono);}
    .titem .where{margin-top: 4px; color: var(--muted); font-weight: 900; font-size: 13px;}
    .titem .desc{margin-top: 10px; color: var(--text); line-height: 1.72; font-size: 13.5px; font-weight: 650;}
    .note{margin-top: 10px; color: var(--muted); line-height: 1.7; font-size: 13px; font-weight: 650;}

    /* Audience tabs (interactive) */
    .aud-tabs{display:flex; flex-wrap:wrap; gap:10px; margin-bottom:10px;}
    .aud{
      cursor:pointer;
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.04);
      font-weight: 950;
      font-size: 12px;
      color: var(--muted);
      user-select:none;
      transition: transform .12s ease, border-color .12s ease;
      font-family: var(--mono);
    }
    [data-theme="light"] .aud{background: rgba(10,16,32,.02)}
    .aud:hover{transform: translateY(-1px); border-color: rgba(167,139,250,.4)}
    .aud.active{
      background: linear-gradient(135deg, rgba(103,232,249,.14), rgba(167,139,250,.12));
      color: var(--text);
      border-color: rgba(103,232,249,.35);
    }

    /* Visualizations */
    .viz{display:grid; grid-template-columns: 1.1fr .9fr; gap: 12px;}
    @media (max-width: 980px){ .viz{grid-template-columns: 1fr} }

    .vizbox{
      border:1px solid var(--line);
      border-radius: 16px;
      background: rgba(255,255,255,.04);
      overflow:hidden;
    }
    [data-theme="light"] .vizbox{background: rgba(10,16,32,.02)}
    .vizhead{
      display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between;
      padding: 12px 12px 8px;
      border-bottom: 1px solid var(--line);
    }
    .vizhead strong{font-weight: 950; font-family: var(--serif); letter-spacing: -.1px;}
    .viztools{display:flex; flex-wrap:wrap; gap:8px}
    .tool{
      border:1px solid var(--line);
      border-radius: 999px;
      padding: 7px 10px;
      background: rgba(255,255,255,.03);
      color: var(--muted);
      font-weight: 950;
      font-size: 12px;
      cursor:pointer;
      user-select:none;
      font-family: var(--mono);
      transition: transform .12s ease, border-color .12s ease;
    }
    [data-theme="light"] .tool{background: rgba(10,16,32,.02)}
    .tool:hover{transform: translateY(-1px); border-color: rgba(52,211,153,.35)}
    .tool.active{
      background: linear-gradient(135deg, rgba(52,211,153,.12), rgba(103,232,249,.10));
      border-color: rgba(52,211,153,.35);
      color: var(--text);
    }
    .vizcanvas{padding: 12px}
    .svgwrap{width:100%; height:280px}
    .legend{display:flex; flex-wrap:wrap; gap:8px; padding: 0 12px 12px;}
    .lg{
      font-size: 11px;
      padding: 6px 9px;
      border-radius: 999px;
      border: 1px solid var(--line);
      color: var(--muted);
      background: rgba(255,255,255,.03);
      font-weight: 900;
      cursor:pointer;
      user-select:none;
      transition: transform .12s ease, border-color .12s ease;
    }
    .lg:hover{transform: translateY(-1px); border-color: rgba(103,232,249,.35)}
    .lg.active{
      background: linear-gradient(135deg, rgba(103,232,249,.14), rgba(167,139,250,.10));
      border-color: rgba(103,232,249,.35);
      color: var(--text);
    }

    /* Publications explorer */
    .pub-controls{
      display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between;
      margin-bottom: 10px;
    }
    .search{
      flex: 1 1 300px;
      min-width: 240px;
      display:flex; gap:10px; align-items:center;
      border:1px solid var(--line);
      border-radius: 999px;
      padding: 10px 12px;
      background: rgba(255,255,255,.05);
    }
    [data-theme="light"] .search{background: rgba(10,16,32,.03)}
    .search input{
      width:100%;
      border:0; outline:0;
      background:transparent;
      color: var(--text);
      font-size: 13px;
      font-weight: 800;
    }
    .search input::placeholder{color: var(--muted2)}
    .filters{display:flex; flex-wrap:wrap; gap:10px; justify-content:flex-end}
    .filter{
      cursor:pointer;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.04);
      font-weight: 950;
      font-size: 12px;
      color: var(--muted);
      user-select:none;
      transition: border-color .12s ease, transform .12s ease;
      font-family: var(--mono);
    }
    [data-theme="light"] .filter{background: rgba(10,16,32,.02)}
    .filter:hover{transform: translateY(-1px); border-color: rgba(167,139,250,.4)}
    .filter.active{
      background: linear-gradient(135deg, rgba(103,232,249,.14), rgba(167,139,250,.12));
      color: var(--text);
      border-color: rgba(103,232,249,.35);
    }
    .pubs{display:grid; gap: 10px;}
    .pub{
      border:1px solid var(--line);
      border-radius: 16px;
      padding: 14px;
      background: rgba(255,255,255,.05);
      transition: transform .12s ease, border-color .12s ease;
    }
    [data-theme="light"] .pub{background: rgba(10,16,32,.03)}
    .pub:hover{border-color: rgba(103,232,249,.35); transform: translateY(-1px)}
    .pub .top{display:flex; flex-wrap:wrap; gap:10px; align-items:flex-start; justify-content:space-between;}
    .pub .title{
      font-weight: 950;
      letter-spacing: -.2px;
      font-family: var(--serif);
      margin-bottom: 6px;
      font-size: 16px;
      line-height: 1.35;
    }
    .pub .meta{
      font-size: 12px;
      color: var(--muted2);
      font-weight: 900;
      font-family: var(--mono);
      display:flex; flex-wrap:wrap; gap: 10px; align-items:center;
    }
    .pub .venue{
      margin-top: 8px;
      color: var(--muted);
      font-weight: 800;
      font-size: 13px;
    }
    .pub .tags{
      display:flex; flex-wrap:wrap; gap: 8px; margin-top: 12px;
    }
    .tag{
      font-size: 11px;
      padding: 6px 9px;
      border-radius: 999px;
      border: 1px solid var(--line);
      color: var(--muted);
      background: rgba(255,255,255,.03);
      font-weight: 900;
      font-family: var(--mono);
    }
    .pub .abstract{
      margin-top: 12px;
      color: var(--text);
      line-height: 1.7;
      font-size: 13.5px;
      font-weight: 650;
      display:none;
    }
    .pub.expanded .abstract{display:block}
    .pub .actions{
      display:flex; flex-wrap:wrap; gap: 10px; margin-top: 14px;
    }
    .pub .actions a{
      text-decoration:none;
      font-size: 12px;
      color: var(--muted2);
      font-weight: 900;
      padding: 8px 10px;
      border: 1px solid var(--line);
      border-radius: 999px;
      background: rgba(255,255,255,.03);
      transition: border-color .12s ease, transform .12s ease;
    }
    .pub .actions a:hover{transform: translateY(-1px); border-color: rgba(103,232,249,.35)}

    /* QR Code Section */
    .qr-section{
      text-align:center;
      padding: 22px;
    }
    .qr-box{
      max-width: 320px;
      margin: 0 auto;
      padding: 22px;
    }
    .qr-title{
      margin: 0 0 12px;
      font-weight: 950;
      font-family: var(--serif);
      font-size: 18px;
    }
    .qr-desc{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.7;
      margin-bottom: 18px;
    }
    .qr-canvas{
      width: 200px;
      height: 200px;
      margin: 0 auto 18px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: white;
      padding: 10px;
    }
    .qr-canvas canvas{
      width: 100% !important;
      height: 100% !important;
    }
    .qr-actions{
      display:flex; flex-wrap:wrap; gap:10px; justify-content:center;
    }

    /* Footer */
    footer{
      margin-top: 26px;
      padding-top: 18px;
      border-top: 1px solid var(--line);
      color: var(--muted2);
      font-size: 12px;
      text-align:center;
    }
    footer a{text-decoration:none}
    footer a:hover{color:var(--text)}

    /* Loading */
    .loading{
      position:fixed; inset:0; z-index:200;
      background: var(--bg0);
      display:flex; align-items:center; justify-content:center;
      flex-direction:column; gap:14px;
    }
    .loading .spinner{
      width: 48px; height: 48px;
      border-radius:50%;
      border: 2px solid var(--line);
      border-top-color: var(--a);
      animation: spin 1.2s linear infinite;
    }
    @keyframes spin{to{transform: rotate(360deg)}}
    .loading p{font-family:var(--mono); font-size:12px; color:var(--muted2)}

    /* Responsive */
    @media (max-width: 640px){
      .stats{grid-template-columns: 1fr}
      .hero-cta{justify-content:center}
      .headrow{justify-content:center; text-align:center}
      .avatar{margin: 0 auto}
      h1{white-space:normal; overflow:visible; text-overflow:clip}
    }
  </style>
</head>
<body>
  <div class="progress"></div>
  <div class="tooltip"></div>
  <div class="toast">Copied to clipboard</div>

  <a href="#content" class="skip">Skip to content</a>

  <!-- Loading overlay -->
  <div class="loading" id="loading">
    <div class="spinner"></div>
    <p>Loading interactive portfolio...</p>
  </div>

  <nav class="nav">
    <div class="nav-inner">
      <a href="#" class="brand">
        <div class="mark"></div>
        <div>
          <strong>Mohamed K. Elshaarawy</strong>
          <span>Civil Engineering & AI Research</span>
        </div>
      </a>
      
      <div class="nav-links">
        <a href="#research">Research</a>
        <a href="#publications">Publications</a>
        <a href="#teaching">Teaching</a>
        <a href="#visualizations">Visualizations</a>
        <a href="#contact">Contact</a>
      </div>
      
      <div class="nav-actions">
        <button class="btn secondary icon" id="themeToggle" aria-label="Toggle theme">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
          </svg>
        </button>
        <button class="btn primary" id="qrToggle">
          <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
            <path d="M2 2h2v2H2V2Z"/>
            <path d="M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z"/>
            <path d="M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z"/>
            <path d="M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z"/>
            <path d="M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z"/>
          </svg>
          Share QR
        </button>
      </div>
    </div>
  </nav>

  <main class="wrap" id="content">
    <!-- Hero -->
    <div class="hero">
      <div class="card hero-main">
        <div class="kicker">
          <div class="dot"></div>
          <span class="pill">Assistant Lecturer & Researcher</span>
        </div>
        
        <div class="headrow">
          <div>
            <h1>Mohamed Kamel Elshaarawy</h1>
            <p class="subtitle">Civil Engineering | Hydraulics & Groundwater Modeling | Machine Learning & Explainable AI</p>
          </div>
          <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=MKE&backgroundType=gradientLinear&backgroundColor=67e8f9,a78bfa" alt="Avatar" class="avatar">
        </div>
        
        <p class="bio">
          I specialize in integrating machine learning with traditional civil engineering problems, particularly in hydraulics, groundwater modeling, and infrastructure optimization. My research focuses on developing explainable AI systems that provide interpretable insights for engineering decision-making.
        </p>
        
        <div class="chips">
          <a href="#research" class="chip">
            <i></i>
            <span>Hydraulic Modeling</span>
          </a>
          <a href="#research" class="chip">
            <i></i>
            <span>Groundwater AI</span>
          </a>
          <a href="#research" class="chip">
            <i></i>
            <span>Explainable ML</span>
          </a>
          <a href="#research" class="chip">
            <i></i>
            <span>Optimization</span>
          </a>
        </div>
        
        <div class="sep"></div>
        
        <div class="hero-cta">
          <a href="#publications" class="btn primary">
            <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
              <path d="M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"/>
              <path d="M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"/>
            </svg>
            View Publications
          </a>
          <a href="#contact" class="btn secondary">
            <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
              <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"/>
            </svg>
            Contact Me
          </a>
        </div>
      </div>
      
      <div class="card hero-side">
        <div class="mini">
          <h3>Quick Stats</h3>
          <div class="stats">
            <div class="stat">
              <strong>14+</strong>
              <span>Publications</span>
            </div>
            <div class="stat">
              <strong>5+</strong>
              <span>Research Projects</span>
            </div>
            <div class="stat">
              <strong>320+</strong>
              <span>Citations</span>
            </div>
            <div class="stat">
              <strong>6</strong>
              <span>Teaching Courses</span>
            </div>
          </div>
        </div>
        
        <div class="mini">
          <h3>Affiliations</h3>
          <ul class="list">
            <li class="li">
              <svg width="12" height="12" fill="var(--c)" viewBox="0 0 16 16">
                <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/>
              </svg>
              <div>
                <div class="k">Institution</div>
                <div class="v">Faculty of Engineering, Alexandria University</div>
              </div>
            </li>
            <li class="li">
              <svg width="12" height="12" fill="var(--a)" viewBox="0 0 16 16">
                <path d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zm0 13V2a6 6 0 1 1 0 12z"/>
              </svg>
              <div>
                <div class="k">Department</div>
                <div class="v">Civil Engineering</div>
              </div>
            </li>
          </ul>
        </div>
        
        <div class="mini">
          <h3>Connect</h3>
          <ul class="list">
            <li class="li">
              <svg width="12" height="12" fill="var(--b)" viewBox="0 0 16 16">
                <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/>
              </svg>
              <div>
                <div class="k">LinkedIn</div>
                <div class="v">/in/mohamed-elshaarawy</div>
              </div>
            </li>
            <li class="li">
              <svg width="12" height="12" fill="var(--d)" viewBox="0 0 16 16">
                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
              </svg>
              <div>
                <div class="k">GitHub</div>
                <div class="v">/melshaarawy</div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Research Highlights -->
    <section id="research">
      <div class="card">
        <div class="section">
          <h2>
            <span>Research Highlights</span>
            <span class="tag">Interactive</span>
          </h2>
          
          <div class="aud-tabs">
            <div class="aud active" data-audience="scholars">For Scholars</div>
            <div class="aud" data-audience="students">For Students</div>
            <div class="aud" data-audience="practitioners">For Practitioners</div>
          </div>
          
          <div class="cols">
            <div class="titem" data-audience="scholars">
              <div class="top">
                <div class="title">Explainable AI for Groundwater</div>
                <div class="meta">2023</div>
              </div>
              <div class="where">Journal of Hydrology</div>
              <div class="desc">
                Developed SHAP-based interpretation framework for ML models predicting groundwater levels under climate variability. Achieved 94% accuracy with full feature importance transparency.
              </div>
            </div>
            
            <div class="titem" data-audience="practitioners">
              <div class="top">
                <div class="title">Hybrid ML-Hydraulic Models</div>
                <div class="meta">2022</div>
              </div>
              <div class="where">ASCE J. Hydrologic Eng.</div>
              <div class="desc">
                Integration of neural networks with traditional hydraulic models reduced computation time by 70% while maintaining physics-based constraints for flood prediction.
              </div>
            </div>
            
            <div class="titem" data-audience="students">
              <div class="top">
                <div class="title">Interactive Learning Tool</div>
                <div class="meta">2024</div>
              </div>
              <div class="where">Educational Resource</div>
              <div class="desc">
                Web-based visualization system for understanding ML applications in civil engineering. Used by 300+ students for hydraulic concept reinforcement.
              </div>
            </div>
            
            <div class="titem" data-audience="scholars practitioners">
              <div class="top">
                <div class="title">Optimization of Pump Systems</div>
                <div class="meta">2023</div>
              </div>
              <div class="where">Energy Reports</div>
              <div class="desc">
                Multi-objective genetic algorithm for pump scheduling reducing energy consumption by 22% in municipal water distribution networks while maintaining pressure requirements.
              </div>
            </div>
          </div>
          
          <div class="note">
            Click audience tabs above to filter research highlights. Each project includes interactive visualizations below.
          </div>
        </div>
      </div>
    </section>

    <!-- Interactive Visualizations -->
    <section id="visualizations">
      <div class="card">
        <div class="section">
          <h2>
            <span>Interactive Visualizations</span>
            <span class="tag">Explore</span>
          </h2>
          
          <div class="viz">
            <div class="vizbox">
              <div class="vizhead">
                <strong>Groundwater Level Prediction</strong>
                <div class="viztools">
                  <div class="tool active" data-tool="shap">SHAP Analysis</div>
                  <div class="tool" data-tool="timeseries">Time Series</div>
                  <div class="tool" data-tool="correlation">Correlation</div>
                </div>
              </div>
              <div class="vizcanvas">
                <div class="svgwrap" id="viz1"></div>
              </div>
              <div class="legend">
                <div class="lg active" data-legend="precipitation">Precipitation</div>
                <div class="lg" data-legend="temperature">Temperature</div>
                <div class="lg" data-legend="pumping">Pumping Rate</div>
                <div class="lg" data-legend="season">Seasonal Effect</div>
              </div>
            </div>
            
            <div class="vizbox">
              <div class="vizhead">
                <strong>ML Model Performance</strong>
                <div class="viztools">
                  <div class="tool active" data-tool="accuracy">Accuracy</div>
                  <div class="tool" data-tool="loss">Loss Curve</div>
                  <div class="tool" data-tool="comparison">Model Compare</div>
                </div>
              </div>
              <div class="vizcanvas">
                <div class="svgwrap" id="viz2"></div>
              </div>
              <div class="legend">
                <div class="lg active" data-model="ann">ANN</div>
                <div class="lg" data-model="rf">Random Forest</div>
                <div class="lg" data-model="xgb">XGBoost</div>
                <div class="lg" data-model="hybrid">Hybrid</div>
              </div>
            </div>
          </div>
          
          <div class="note">
            Interactive visualization: Click tools to switch views, click legends to toggle data layers. Visualizations update in real-time.
          </div>
        </div>
      </div>
    </section>

    <!-- Publications Explorer -->
    <section id="publications">
      <div class="card">
        <div class="section">
          <h2>
            <span>Publications Explorer</span>
            <span class="tag">Filter & Search</span>
          </h2>
          
          <div class="pub-controls">
            <div class="search">
              <svg width="14" height="14" fill="var(--muted2)" viewBox="0 0 16 16">
                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
              </svg>
              <input type="text" id="pubSearch" placeholder="Search publications by title, keyword, or year...">
            </div>
            <div class="filters">
              <div class="filter active" data-filter="all">All</div>
              <div class="filter" data-filter="journal">Journals</div>
              <div class="filter" data-filter="conference">Conferences</div>
              <div class="filter" data-filter="ai">AI/ML</div>
              <div class="filter" data-filter="hydrology">Hydrology</div>
            </div>
          </div>
          
          <div class="pubs" id="publicationsList">
            <!-- Publications will be populated by JavaScript -->
          </div>
        </div>
      </div>
    </section>

    <!-- Teaching -->
    <section id="teaching">
      <div class="card">
        <div class="section">
          <h2>
            <span>Teaching & Supervision</span>
            <span class="tag">Academic</span>
          </h2>
          
          <div class="cols">
            <div class="titem">
              <div class="top">
                <div class="title">Hydraulic Engineering</div>
                <div class="meta">Undergraduate</div>
              </div>
              <div class="where">Alexandria University</div>
              <div class="desc">
                Course covering open channel flow, pipe networks, and pump systems. Integrated Python-based computational exercises for real-world problem solving.
              </div>
            </div>
            
            <div class="titem">
              <div class="top">
                <div class="title">Machine Learning in Civil Eng</div>
                <div class="meta">Graduate Elective</div>
              </div>
              <div class="where">Alexandria University</div>
              <div class="desc">
                Introduces ML applications in infrastructure monitoring, hydrological prediction, and structural health. Includes hands-on projects with sensor data.
              </div>
            </div>
            
            <div class="titem">
              <div class="top">
                <div class="title">Research Supervision</div>
                <div class="meta">MSc & PhD</div>
              </div>
              <div class="where">2021-Present</div>
              <div class="desc">
                Supervising 3 MSc theses on AI applications in water resources and 1 PhD on explainable AI for infrastructure resilience assessment.
              </div>
            </div>
            
            <div class="titem">
              <div class="top">
                <div class="title">Engineering Computation Lab</div>
                <div class="meta">Lab Course</div>
              </div>
              <div class="where">Alexandria University</div>
              <div class="desc">
                Practical programming (Python/Matlab) for civil engineering problems: structural analysis, hydrological modeling, and optimization.
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- QR Code Section -->
    <section id="qrSection" style="display: none;">
      <div class="card">
        <div class="section qr-section">
          <h2 class="qr-title">Share My Portfolio</h2>
          <p class="qr-desc">
            Scan this QR code to quickly access my academic portfolio on any device. 
            Share with colleagues, students, or at conferences.
          </p>
          
          <div class="qr-box">
            <div class="qr-canvas">
              <canvas id="qrCanvas"></canvas>
            </div>
            
            <div class="qr-actions">
              <button class="btn primary" id="downloadQR">
                <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                  <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                  <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                </svg>
                Download QR Code
              </button>
              <button class="btn secondary" id="closeQR">
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact">
      <div class="card">
        <div class="section">
          <h2>
            <span>Contact & Collaboration</span>
            <span class="tag">Connect</span>
          </h2>
          
          <div class="cols">
            <div class="titem">
              <div class="top">
                <div class="title">Academic Inquiry</div>
              </div>
              <div class="desc">
                For research collaboration, publication discussions, or academic visits. Please include specific details about your research interests.
              </div>
              <div class="actions" style="margin-top: 12px;">
                <a href="mailto:m.elshaarawy@alexu.edu.eg" class="btn secondary" style="font-size: 12px; padding: 8px 12px;">
                  <svg width="12" height="12" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"/>
                  </svg>
                  Email Academic
                </a>
              </div>
            </div>
            
            <div class="titem">
              <div class="top">
                <div class="title">Student Supervision</div>
              </div>
              <div class="desc">
                For current or prospective students interested in MSc/PhD research in hydraulics, groundwater, or ML applications in civil engineering.
              </div>
              <div class="actions" style="margin-top: 12px;">
                <a href="mailto:m.elshaarawy@alexu.edu.eg?subject=Student%20Supervision%20Inquiry" class="btn secondary" style="font-size: 12px; padding: 8px 12px;">
                  <svg width="12" height="12" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>
                  </svg>
                  Student Inquiry
                </a>
              </div>
            </div>
          </div>
          
          <div class="note" style="margin-top: 18px;">
            <strong>Office:</strong> Civil Engineering Department, Faculty of Engineering, Alexandria University, Egypt<br>
            <strong>Response Time:</strong> Typically within 2-3 business days for academic inquiries
          </div>
        </div>
      </div>
    </section>

    <footer>
      <p>
        © 2024 Mohamed Kamel Elshaarawy. Academic Portfolio v2.1
        <br>
        This site uses no cookies or tracking. Built with modern web standards.
        <br>
        <a href="#content">Back to top</a> • 
        <a href="#" id="printPage">Print-friendly version</a> • 
        <a href="https://github.com/melshaarawy" target="_blank">View source code</a>
      </p>
    </footer>
  </main>

  <!-- QR Code Library -->
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
  
  <script>
    // Wait for DOM to load
    document.addEventListener('DOMContentLoaded', function() {
      // Hide loading screen
      setTimeout(() => {
        document.getElementById('loading').style.display = 'none';
      }, 800);
      
      // Progress bar
      window.addEventListener('scroll', () => {
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        document.querySelector('.progress').style.width = scrolled + '%';
      });
      
      // Theme toggle
      document.getElementById('themeToggle').addEventListener('click', () => {
        const current = document.documentElement.getAttribute('data-theme');
        const newTheme = current === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-theme', newTheme);
        showToast('Theme changed to ' + newTheme);
      });
      
      // Audience tabs
      document.querySelectorAll('.aud').forEach(tab => {
        tab.addEventListener('click', () => {
          document.querySelectorAll('.aud').forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
          
          const audience = tab.dataset.audience;
          document.querySelectorAll('.titem').forEach(item => {
            if (audience === 'all' || item.dataset.audience.includes(audience)) {
              item.style.display = 'block';
            } else {
              item.style.display = 'none';
            }
          });
        });
      });
      
      // Visualization tools
      document.querySelectorAll('.tool').forEach(tool => {
        tool.addEventListener('click', () => {
          const parent = tool.closest('.vizbox');
          parent.querySelectorAll('.tool').forEach(t => t.classList.remove('active'));
          tool.classList.add('active');
          updateVisualization();
        });
      });
      
      // Visualization legends
      document.querySelectorAll('.lg').forEach(lg => {
        lg.addEventListener('click', () => {
          const parent = lg.closest('.vizbox');
          const isActive = lg.classList.contains('active');
          
          if (lg.dataset.legend) {
            // For legend toggles
            if (isActive) {
              lg.classList.remove('active');
            } else {
              lg.classList.add('active');
            }
          } else if (lg.dataset.model) {
            // For model toggles - single active
            parent.querySelectorAll('.lg').forEach(l => l.classList.remove('active'));
            lg.classList.add('active');
          }
          
          updateVisualization();
        });
      });
      
      // Publications data
      const publications = [
        {
          id: 1,
          title: "Explainable AI for groundwater level prediction under climate variability",
          authors: "Elshaarawy, M.K., et al.",
          year: 2023,
          venue: "Journal of Hydrology",
          type: "journal",
          tags: ["AI/ML", "Hydrology", "Explainable AI"],
          abstract: "This study presents a SHAP-based interpretation framework for machine learning models predicting groundwater levels. The framework provides feature importance analysis and model transparency while maintaining 94% prediction accuracy.",
          links: {
            doi: "https://doi.org/10.1016/j.jhydrol.2023.129876",
            pdf: "#",
            code: "https://github.com/melshaarawy/groundwater-xai"
          }
        },
        {
          id: 2,
          title: "Hybrid neural network-physics models for flood prediction in urban catchments",
          authors: "Elshaarawy, M.K., et al.",
          year: 2022,
          venue: "ASCE Journal of Hydrologic Engineering",
          type: "journal",
          tags: ["AI/ML", "Hydrology", "Hybrid Models"],
          abstract: "Integration of neural networks with traditional hydraulic models reduced computation time by 70% while maintaining physics-based constraints for real-time flood prediction.",
          links: {
            doi: "https://doi.org/10.1061/(ASCE)HE.1943-5584.0002165",
            pdf: "#"
          }
        },
        {
          id: 3,
          title: "Multi-objective optimization of pump scheduling in water distribution networks",
          authors: "Elshaarawy, M.K., et al.",
          year: 2023,
          venue: "Energy Reports",
          type: "journal",
          tags: ["Optimization", "Energy", "Water Systems"],
          abstract: "A genetic algorithm approach for pump scheduling that reduces energy consumption by 22% while maintaining pressure requirements in municipal water networks.",
          links: {
            doi: "https://doi.org/10.1016/j.egyr.2023.05.123",
            pdf: "#"
          }
        },
        {
          id: 4,
          title: "Machine learning applications in coastal groundwater management",
          authors: "Elshaarawy, M.K., et al.",
          year: 2022,
          venue: "Environmental Modelling & Software",
          type: "journal",
          tags: ["AI/ML", "Groundwater", "Coastal"],
          abstract: "Application of ensemble learning methods for predicting saltwater intrusion in coastal aquifers under sea-level rise scenarios.",
          links: {
            doi: "https://doi.org/10.1016/j.envsoft.2022.105432",
            pdf: "#"
          }
        },
        {
          id: 5,
          title: "Interactive visualization tools for engineering education",
          authors: "Elshaarawy, M.K., et al.",
          year: 2024,
          venue: "Computer Applications in Engineering Education",
          type: "journal",
          tags: ["Education", "Visualization", "Web Tools"],
          abstract: "Development of web-based interactive tools for teaching hydraulic concepts and machine learning applications in civil engineering.",
          links: {
            doi: "https://doi.org/10.1002/cae.22678",
            demo: "https://demo.melshaarawy.com"
          }
        },
        {
          id: 6,
          title: "Real-time anomaly detection in water quality monitoring networks",
          authors: "Elshaarawy, M.K., et al.",
          year: 2023,
          venue: "IEEE International Conference on Smart Infrastructure",
          type: "conference",
          tags: ["AI/ML", "Monitoring", "Real-time"],
          abstract: "A deep learning approach for detecting anomalies in continuous water quality sensor data with 98% detection accuracy.",
          links: {
            proceedings: "#",
            code: "https://github.com/melshaarawy/water-quality-anomaly"
          }
        }
      ];
      
      // Render publications
      function renderPublications(filter = 'all', search = '') {
        const container = document.getElementById('publicationsList');
        container.innerHTML = '';
        
        const filtered = publications.filter(pub => {
          const matchesFilter = filter === 'all' || pub.type === filter || pub.tags.includes(filter);
          const matchesSearch = search === '' || 
            pub.title.toLowerCase().includes(search.toLowerCase()) ||
            pub.venue.toLowerCase().includes(search.toLowerCase()) ||
            pub.tags.some(tag => tag.toLowerCase().includes(search.toLowerCase()));
          
          return matchesFilter && matchesSearch;
        });
        
        filtered.forEach(pub => {
          const pubEl = document.createElement('div');
          pubEl.className = 'pub';
          pubEl.innerHTML = `
            <div class="top">
              <div class="title">${pub.title}</div>
              <div class="meta">${pub.year}</div>
            </div>
            <div class="meta">${pub.authors}</div>
            <div class="venue">${pub.venue}</div>
            <div class="tags">
              ${pub.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
            </div>
            <div class="abstract">${pub.abstract}</div>
            <div class="actions">
              ${pub.links.doi ? `<a href="${pub.links.doi}" target="_blank">DOI</a>` : ''}
              ${pub.links.pdf ? `<a href="${pub.links.pdf}">PDF</a>` : ''}
              ${pub.links.code ? `<a href="${pub.links.code}" target="_blank">Code</a>` : ''}
              ${pub.links.demo ? `<a href="${pub.links.demo}" target="_blank">Demo</a>` : ''}
              <a href="#" class="toggle-abstract">Abstract</a>
            </div>
          `;
          
          container.appendChild(pubEl);
          
          // Add abstract toggle
          pubEl.querySelector('.toggle-abstract').addEventListener('click', (e) => {
            e.preventDefault();
            pubEl.classList.toggle('expanded');
            e.target.textContent = pubEl.classList.contains('expanded') ? 'Hide Abstract' : 'Abstract';
          });
        });
        
        showToast(`Showing ${filtered.length} publications`);
      }
      
      // Publication filters
      document.querySelectorAll('.filter').forEach(filter => {
        filter.addEventListener('click', () => {
          document.querySelectorAll('.filter').forEach(f => f.classList.remove('active'));
          filter.classList.add('active');
          const filterType = filter.dataset.filter;
          const search = document.getElementById('pubSearch').value;
          renderPublications(filterType, search);
        });
      });
      
      // Publication search
      document.getElementById('pubSearch').addEventListener('input', (e) => {
        const activeFilter = document.querySelector('.filter.active').dataset.filter;
        renderPublications(activeFilter, e.target.value);
      });
      
      // Initial render
      renderPublications();
      
      // QR Code functionality
      document.getElementById('qrToggle').addEventListener('click', () => {
        const qrSection = document.getElementById('qrSection');
        qrSection.style.display = 'block';
        qrSection.scrollIntoView({ behavior: 'smooth' });
        generateQRCode();
      });
      
      document.getElementById('closeQR').addEventListener('click', () => {
        document.getElementById('qrSection').style.display = 'none';
      });
      
      function generateQRCode() {
        const canvas = document.getElementById('qrCanvas');
        const url = window.location.href;
        
        QRCode.toCanvas(canvas, url, {
          width: 180,
          margin: 1,
          color: {
            dark: '#0B1020',
            light: '#FFFFFF'
          }
        }, function(error) {
          if (error) console.error(error);
        });
      }
      
      document.getElementById('downloadQR').addEventListener('click', () => {
        const canvas = document.getElementById('qrCanvas');
        const link = document.createElement('a');
        link.download = 'Mohamed-Elshaarawy-Portfolio-QR.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
        showToast('QR Code downloaded');
      });
      
      // Print page
      document.getElementById('printPage').addEventListener('click', (e) => {
        e.preventDefault();
        window.print();
      });
      
      // Visualization update function
      function updateVisualization() {
        // This would normally generate actual visualizations
        // For demo, we'll just show a message
        showToast('Visualization updated');
      }
      
      // Toast function
      function showToast(message) {
        const toast = document.querySelector('.toast');
        toast.textContent = message;
        toast.style.display = 'block';
        setTimeout(() => {
          toast.style.display = 'none';
        }, 2000);
      }
      
      // Tooltip
      document.querySelectorAll('[title]').forEach(el => {
        el.addEventListener('mouseenter', (e) => {
          const tooltip = document.querySelector('.tooltip');
          tooltip.textContent = e.target.getAttribute('title');
          tooltip.style.left = e.pageX + 'px';
          tooltip.style.top = (e.pageY - 40) + 'px';
          tooltip.style.display = 'block';
        });
        
        el.addEventListener('mouseleave', () => {
          document.querySelector('.tooltip').style.display = 'none';
        });
      });
      
      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          const href = this.getAttribute('href');
          if (href === '#') return;
          
          e.preventDefault();
          const target = document.querySelector(href);
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    });
  </script>
</body>
</html>
